(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{445:function(s,e,t){"use strict";t.r(e);var a=t(9),r=Object(a.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p",[s._v("Vercel提供了免费的静态网站的hosting服务，可以通过Github Hook自动部署。使用Vercel部署有两个明显的优点："),e("strong",[s._v("访问速度比Github Pages快")]),s._v("，"),e("strong",[s._v("Github Pages不能被百度收录而Vercel可以")]),s._v("。所以用Vercel部署是一个很好的选择。")]),s._v(" "),e("p",[s._v("在Vercel部署首先需要在Github建立仓库。")]),s._v(" "),e("h2",{attrs:{id:"_1-将github仓库导入到vercel"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-将github仓库导入到vercel"}},[s._v("#")]),s._v(" 1.将Github仓库导入到Vercel")]),s._v(" "),e("p",[s._v("首先打开"),e("a",{attrs:{href:"https://vercel.com/new",target:"_blank",rel:"noopener noreferrer"}},[s._v("Vercel的网站"),e("OutboundLink")],1),s._v("，选择继续使用Github。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211024092914.png",alt:"image-20211024092907120"}})]),s._v(" "),e("p",[s._v("弹出的窗口要求授予权限。点击绿色的按钮。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211024093111.png",alt:"image-20211024093111420"}})]),s._v(" "),e("p",[s._v("登录成功后选择添加Github组织或账户。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211024093330.png",alt:"image-20211024093330156"}})]),s._v(" "),e("p",[s._v("在弹出的窗口中选择Only select repositories，然后点击Select repositories，选择你的Vuepress博客所在仓库。最后点击Install。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211024093514.png",alt:"image-20211024093514688"}})]),s._v(" "),e("p",[s._v("导入完成后就能看到该仓库在Vercel的网页上了。点击Import。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211024093951.png",alt:"image-20211024093951278"}})]),s._v(" "),e("h2",{attrs:{id:"_2-部署"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-部署"}},[s._v("#")]),s._v(" 2.部署")]),s._v(" "),e("p",[s._v("还有三步就能把这个博客部署在Vercel啦！")]),s._v(" "),e("p",[s._v("第一步是创建团队，我觉得部署个人博客没有必要创建团队，所以选择跳过。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211024095822.png",alt:"image-20211024095822374"}})]),s._v(" "),e("p",[s._v("第二步是配置项目。这一步的"),e("strong",[s._v("红色框中的三项一定要和下图中一样")]),s._v("！否则会部署失败。然后点击部署。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211024105829.png",alt:"image-20211024105829742"}})]),s._v(" "),e("p",[s._v("稍等片刻，Vercel就部署成功啦！点击黑色的按钮 转到仪表盘。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211024110246.png",alt:"image-20211024110245895"}})]),s._v(" "),e("p",[s._v("在这里点击访问，就能访问到在Vercel中部署的页面啦。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211024110604.png",alt:"image-20211024110603988"}})]),s._v(" "),e("h2",{attrs:{id:"_3-切换部署的分支"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-切换部署的分支"}},[s._v("#")]),s._v(" 3.切换部署的分支")]),s._v(" "),e("p",[s._v("由于前面的设置中是将GitHub的"),e("code",[s._v("main")]),s._v("分支在vercel上build，这样有一个缺点：每次更新都要在vercel上等待很长时间部署，而且当项目比较庞大的时候可能会部署失败。所以现在要把部署的分支切换成"),e("code",[s._v("gh-pages")]),s._v("。")]),s._v(" "),e("p",[s._v("在上方选择setting，左侧选择Git，在BRANCH NAME处填写gh-pages，点击Save。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211024112755.png",alt:"image-20211024112755275"}})]),s._v(" "),e("h2",{attrs:{id:"_4-设置域名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-设置域名"}},[s._v("#")]),s._v(" 4.设置域名")]),s._v(" "),e("p",[s._v("还是在setting中，选择domian，输入你的域名，点击Add。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211024121406.png",alt:"image-20211024121406614"}})]),s._v(" "),e("p",[s._v("接下来会告诉你要在dns解析需要添加记录的信息。记下此处的三个信息。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211024121517.png",alt:"image-20211024121517333"}})]),s._v(" "),e("p",[s._v("打开域名解析的网站，按vercel提供的信息添加记录。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211024121559.png",alt:"image-20211024121559561"}})]),s._v(" "),e("p",[s._v("稍等片刻，解析成功。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211024121658.png",alt:"image-20211024121658714"}})]),s._v(" "),e("p",[s._v("现在就能在对应的域名访问啦！")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211024121754.png",alt:"image-20211024121753920"}})]),s._v(" "),e("p",[s._v("由于Vercel在部署时不能选择分支，为了正确部署gh-pages分支，首先选择下面的导入第三方git存储库。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211024104300.png",alt:"image-20211024104300527"}})]),s._v(" "),e("p",[s._v("接下来先打开Github的vuepress博客所在仓库，将分支选为gh-pages，然后复制该页面的网址。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211024104442.png",alt:"image-20211024104442440"}})]),s._v(" "),e("p",[s._v("回到Vercel页面，粘贴该网址，点击继续。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211024104604.png",alt:"image-20211024104604061"}})]),s._v(" "),e("p",[s._v("在存储库名称填写你的Github仓库名称，点击创建。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211024104700.png",alt:"image-20211024104700325"}})]),s._v(" "),e("h2",{attrs:{id:"_5-访问速度测试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-访问速度测试"}},[s._v("#")]),s._v(" 5.访问速度测试")]),s._v(" "),e("p",[s._v("以下是Github Pages和Vercel两个平台同一项目"),e("a",{attrs:{href:"https://www.17ce.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("请求速度对比测试"),e("OutboundLink")],1),s._v("结果。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211024124340.png",alt:"image-20211024124340181"}})]),s._v(" "),e("p",[s._v("Vercel居然更慢了，很意外只能说。")]),s._v(" "),e("h2",{attrs:{id:"_6-vercel-cli"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-vercel-cli"}},[s._v("#")]),s._v(" 6.vercel-cli")]),s._v(" "),e("p",[s._v("vercel-cli插件可以在本地直接打包上传至 vercel")]),s._v(" "),e("p",[s._v("1.安装")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-g")]),s._v(" vercel\nor\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" global "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" vercel\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("2.安装成功后，初始化 "),e("code",[s._v("vercel")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("vercel\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("依提示键入注册 "),e("code",[s._v("vercel")]),s._v(" 使用的邮箱 3. 从邮箱激活账户 激活后，命令行会提示如下")]),s._v(" "),e("blockquote",[e("p",[s._v("√ Email confirmed Congratulations! You are now logged in. In order to deploy something, run "),e("code",[s._v("vercel")]),s._v(". 💡 Connect your Git Repositories to deploy every branch push automatically (https://vercel.link/git).")])]),s._v(" "),e("p",[s._v("3.初始化项目")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("vercel deploy\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("根据提示关联或新建一个项目,当询问")]),s._v(" "),e("blockquote",[e("p",[s._v("In which directory is your code located")])]),s._v(" "),e("p",[s._v("直接跳过即可。")]),s._v(" "),e("p",[s._v("之后，会生成1个网站地址，暂时忽略。")]),s._v(" "),e("p",[s._v("此时就可以在根路径看到 "),e("code",[s._v(".vercel")]),s._v(" 的文件夹了，反过来说如果不存在该文件夹，则失败了。")]),s._v(" "),e("p",[s._v("5.新建 "),e("code",[s._v("deploy.sh")]),s._v(" 文件 键入")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/usr/bin/env sh")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成静态文件")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run docs:build\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-rvf")]),s._v(" .vercel docs/.vuepress/dist\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入生成的文件夹")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" docs/.vuepress/dist\n\nvercel "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--prod")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" -\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])]),e("p",[s._v("6.在命令行键入 "),e("code",[s._v("./deploy.sh")]),s._v(" 测试 一键打包成功后，即可看到正常的页面。")]),s._v(" "),e("p",[s._v("7.其他命令 "),e("code",[s._v("./pushToGit.sh")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/usr/bin/env sh")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 确保脚本抛出遇到的错误")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#set -e")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("time")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"+%Y-%m-%d %H:%M:%S"')]),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#当未配置远端时，将下方的 # 移除")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#git remote set-url origin  https://gitee.com/sickeeer/blog-resource.git")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-A")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$time")]),s._v('"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-u")]),s._v(" origin master\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("p",[s._v("至此，我们就可以优雅的将源码提交至代码库，而 "),e("code",[s._v("build")]),s._v(" 的文件直接上传至 "),e("code",[s._v("vercel")]),s._v("了！")]),s._v(" "),e("p",[s._v("优雅万岁！")]),s._v(" "),e("Vssue")],1)}),[],!1,null,null,null);e.default=r.exports}}]);