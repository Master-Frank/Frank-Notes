---
title: 部署在服务器
date: 2021-10-21 19:24:23
permalink: /pages/130b9a/
categories:
  - 关于
  - 博客搭建教程
tags:
  - 
---
之前在做活动的时候，我在腾讯云买了一个轻量应用服务器，正好把这个博客部署到服务器上试试。

## 1.在服务器安装环境

我的服务器安装了宝塔Linux面板7.6.0。这个面板比较适合新手。

面板窗口默认为8888，先打开控制台，在防火墙放行面板的端口。

点击左上的添加规则，应用类型为自定义，端口为8888，备注为宝塔面板，其他默认。

![image-20211021193239338](https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211021193246.png)

然后打开应用管理的页面，复制左下的命令，再点击登录。

![image-20211021193513755](https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211021193513.png)

然后会弹出一个远程登录的窗口。按照下图的指引登录宝塔面板。

<img src="https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211021193927.png" alt="image-20211021193927582" style="zoom:67%;" />

第一次登录宝塔面板会让你选择要按照的环境。这里建议选择左边的LNMP环境，编译安装。安装需要大约半小时。

![image-20211021194213827](https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211021194214.png)

## 2.绑定域名

在等待安装的过程中可以先给服务器绑定域名。再次打开[域名解析页面](https://console.dnspod.cn/dns/list)，添加一条记录

- 主机记录：最好和GitHub Pages的不一样
- 记录类型：A
- 记录值：你的服务器的公网ip

![image-20211021200453377](https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211021200453.png)

然后回到宝塔面板，点击左侧的`网站`，再点击`添加站点`，按下图指示输入域名信息，然后提交。

**记住根目录的路径。**

![image-20211021201714921](https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211021201715.png)

这样域名就绑定完成了。

**PS：如果域名没备案，自行去备案一下。**

## 3.配置Nginx

Nginx应该已经安装成功了。在左侧选择应用商店，在上方选择运行环境，找到Nginx，点击右侧的设置。

![image-20211021203341804](https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211021203342.png)

点击左侧的配置修改，找到约在68行的server，修改里面的两处：

- listen 80;
- root /www/wwwroot/;

<img src="https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211021203533.png" alt="image-20211021203533580" style="zoom:67%;" />

## 4.上传网页文件

点击左侧的文件，打开上一步中根目录的路径。

![image-20211021202404246](https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211021202404.png)

在本地的博客主目录用Git Bash运行`npm run build`，等待运行完成，打开`/docs/.vuepress/dist/`。

![image-20211021202542931](https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211021202543.png)

选中该目录的索引文件，拖拽到宝塔面板中，点击开始上传。

![image-20211021202841836](https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211021202842.png)

等待上传完成，就可以在刚刚设置的域名访问部署在服务器上的博客啦！

![image-20211021203036290](https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211021203037.png)

服务器的访问速度比Github Pages快了不少啊。

![image-20211021205434943](https://cdn.jsdelivr.net/gh/Master-Frank/Image-hosting/img/20211021205435.png)

## 5.实现自动部署

